import XCTest

final class StressTests: XCTestCase {

    func testMemoryLeakSimulation() {
        var bigArray = [Data]()
        var counter = 0
        do {
            while true {
                let chunk = Data(repeating: 0, count: 5_000_000) // 5MB
                bigArray.append(chunk)
                counter += 1
                if counter % 10 == 0 {
                    print("Allocated \(counter * 5) MB")
                }
            }
        } catch {
            XCTFail("Unexpected error: \(error)")
        }
    }

    func testCPULoad() {
        let numbers = (0..<1_000_000).map { _ in Int.random(in: 0..<10_000) }
        let _ = numbers.sorted()
        print("âœ… CPU load test completed successfully")
    }
}
