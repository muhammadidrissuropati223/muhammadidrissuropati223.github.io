import unicodedata

def sanitize_input(text):
    """
    Remove dangerous Unicode categories and limit text length.
    """
    cleaned = []
    for char in text:
        cat = unicodedata.category(char)
        if cat.startswith("C"):  # Other, control characters
            continue
        if cat in ("Cf", "Cs"):  # Format, surrogate
            continue
        cleaned.append(char)

    return ''.join(cleaned[:1000])  # Limit to 1000 chars

# Contoh uji
user_input = "some potentially bad ğŸ³ï¸â€ğŸŒˆ\u200d\u200d\u200d\u200d\u200d\u200d text"
print("Sanitized:", sanitize_input(user_input))
